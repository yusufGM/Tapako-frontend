import{r as d,c as o,j as e,O as x,N as m}from"./index-BF-DagTe.js";function u(){const[s,t]=d.useState(0),[a,r]=d.useState(!0);async function l(){try{const n=await fetch("/api/stats/sold-count");if(!n.ok)throw new Error("Failed");const c=await n.json();t(c?.sold??0)}catch{}finally{r(!1)}}return d.useEffect(()=>{l();const n=setInterval(l,1e4);return()=>clearInterval(n)},[]),{sold:s,loading:a}}function h(){const{sold:s,loading:t}=u(),a=o(r=>r.logout);return e.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-white/80 backdrop-blur",children:e.jsxs("div",{className:"mx-auto flex h-14 max-w-7xl items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-5 w-5 rounded-sm bg-black"}),e.jsx("span",{className:"font-semibold tracking-tight",children:"Tapako Admin"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-slate-500",children:"Products sold"}),e.jsx("span",{className:"rounded-lg bg-slate-900 px-3 py-1 text-sm font-semibold text-white",children:t?"â€¦":s.toLocaleString()})]}),e.jsx("button",{onClick:a,className:"rounded-md bg-red-600 px-3 py-1 text-sm font-semibold text-white hover:bg-red-700",children:"Logout"})]})]})})}function i({to:s,children:t,end:a}){return e.jsx(m,{to:s,end:a,className:({isActive:r})=>`block w-full text-left px-4 py-2 rounded-lg transition ${r?"bg-white/10 text-white":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:t})}function g(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(h,{}),e.jsx("div",{className:"pt-20 px-6 max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[260px_1fr] gap-6",children:[e.jsxs("aside",{className:"bg-[#0b1424] text-white rounded-2xl p-4",children:[e.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-400 px-2 mb-2",children:"Menu"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{to:"/admin/dashboard",end:!0,children:"Dashboard"}),e.jsx(i,{to:"/admin/orders",end:!0,children:"Orders"}),e.jsx(i,{to:"/admin/products",end:!0,children:"Products"})]})]}),e.jsx("main",{className:"pb-10",children:e.jsx(x,{})})]})})]})}export{g as default};
