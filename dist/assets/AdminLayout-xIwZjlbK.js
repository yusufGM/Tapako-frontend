import{u as f,c as b,a as N,r as c,j as e,O as v,N as y}from"./index-a3qicz2g.js";const w="https://tapako-backend.vercel.app";function k(){const a=f(),{username:r,token:s,clearUser:n}=b(),{clearCart:l}=N(),[o,x]=c.useState(0);c.useEffect(()=>{let d=!0;if(s)return fetch(`${w}/orders`,{headers:{Authorization:`Bearer ${s}`}}).then(async t=>t.ok?t.json():[]).then(t=>{if(!d||!Array.isArray(t))return;const h=t.reduce((u,p)=>u+(p.items||[]).reduce((j,g)=>j+(g.qty||0),0),0);x(h)}).catch(()=>{}),()=>{d=!1}},[s]);const m=()=>{n(),l(),a("/login",{replace:!0})};return e.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white border-b z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block h-3 w-3 bg-black rounded-sm"}),e.jsx("span",{className:"font-semibold",children:"Tapako Admin"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Products sold"}),e.jsx("span",{className:"inline-flex items-center justify-center h-6 min-w-6 px-2 rounded-md bg-[#0b1424] text-white text-xs font-semibold",children:o})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:["Hi, ",r]}),e.jsx("button",{type:"button",onClick:m,className:"px-3 py-1.5 rounded-md bg-red-600 text-white text-sm hover:bg-red-700",children:"Logout"})]})]})]})})}function i({to:a,children:r,end:s}){return e.jsx(y,{to:a,end:s,className:({isActive:n})=>`block w-full text-left px-4 py-2 rounded-lg transition ${n?"bg-white/10 text-white":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:r})}function L(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(k,{}),e.jsx("div",{className:"pt-20 px-6 max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[288px_1fr] gap-6 items-start",children:[e.jsx("aside",{className:"md:sticky md:top-24 md:h-[calc(100vh-7rem)] md:w-72 shrink-0",children:e.jsxs("div",{className:"bg-[#0b1424] text-white rounded-2xl p-4 h-full overflow-y-auto",children:[e.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-400 px-2 mb-2",children:"Menu"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{to:"/admin/dashboard",end:!0,children:"Dashboard"}),e.jsx(i,{to:"/admin/orders",end:!0,children:"Orders"}),e.jsx(i,{to:"/admin/products",end:!0,children:"Products"})]})]})}),e.jsx("main",{className:"pb-10",children:e.jsx(v,{})})]})})]})}export{L as default};
