import{a as S,r as l,b as C,j as e,L as b}from"./index-CJCUCUOf.js";const d=({category:r,limit:o=12})=>{const{addToCart:a,openDrawer:x}=S(),[i,j]=l.useState([]),[N,h]=l.useState(!1),n=l.useRef(null),u=l.useRef(0),f=l.useRef(0);l.useEffect(()=>{C.get("/items").then(t=>{let s=t;r&&(s=s.filter(c=>c.category?.toLowerCase()===r.toLowerCase())),j(s.slice(0,o))}).catch(()=>{})},[r,o]);const y=t=>{a({_id:t._id,name:t.name,price:t.price,imgSrc:t.imgSrc,qty:1}),x()},p=(t=1)=>{const s=n.current;if(!s)return;const c=Math.min(s.clientWidth*.8,900);s.scrollBy({left:t*c,behavior:"smooth"})},k=t=>{const s=n.current;s&&Math.abs(t.deltaY)>=Math.abs(t.deltaX)&&(s.scrollLeft+=t.deltaY,t.preventDefault(),t.stopPropagation())},g=t=>{const s=n.current;s&&(h(!0),s.classList.add("row-dragging"),u.current=(t.touches?.[0]?.clientX??t.clientX)||0,f.current=s.scrollLeft)},w=t=>{if(!N)return;const s=n.current,M=((t.touches?.[0]?.clientX??t.clientX)||0)-u.current;s.scrollLeft=f.current-M,t.preventDefault(),t.stopPropagation()},m=()=>{h(!1),n.current?.classList.remove("row-dragging")};return i.length?e.jsx("section",{className:"py-10 md:py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-12",children:[r&&e.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-4 md:mb-5",children:r}),e.jsxs("div",{className:"relative z-0 group",children:[e.jsx("div",{ref:n,className:"row-snap row-hide-scrollbar row-scroll-lock flex gap-4 overflow-x-auto scroll-smooth select-none",onWheel:k,onMouseDown:g,onMouseMove:w,onMouseLeave:m,onMouseUp:m,onTouchStart:g,onTouchMove:w,onTouchEnd:m,children:i.map((t,s)=>e.jsx(L,{item:t,onAdd:()=>y(t)},t._id||s))}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 w-16 bg-gradient-to-l from-transparent to-white/90 opacity-0 group-hover:opacity-100 transition"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 w-16 bg-gradient-to-r from-transparent to-white/90 opacity-0 group-hover:opacity-100 transition"}),e.jsx(v,{side:"left",onClick:()=>p(-1)}),e.jsx(v,{side:"right",onClick:()=>p(1)})]})]})}):null},L=({item:r,onAdd:o})=>e.jsx("div",{className:"shrink-0 w-[65vw] xs:w-[52vw] sm:w-[40vw] md:w-[28vw] lg:w-[22vw] xl:w-[18vw] 2xl:w-[16vw] scroll-mx-6",children:e.jsxs("div",{className:"relative rounded-2xl overflow-hidden bg-white shadow-md hover:shadow-xl transition",children:[e.jsxs(b,{to:`/product/${r._id}`,className:"block",children:[e.jsx("div",{className:"relative aspect-[3/4] bg-gray-100",children:e.jsx("img",{src:r.imgSrc,alt:r.name,className:"absolute inset-0 w-full h-full object-cover",onError:a=>{a.currentTarget.onerror=null,a.currentTarget.src="/fallback.png"}})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-sm md:text-base font-semibold line-clamp-1",children:r.name}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:r.description})]})]}),e.jsxs("div",{className:"px-3 pb-3 flex items-center justify-between",children:[e.jsxs("span",{className:"text-base md:text-lg font-bold",children:["Rp",Number(r.price||0).toLocaleString("id-ID")]}),e.jsx("button",{onClick:o,className:"px-4 py-1 text-sm inline-block bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-full uppercase font-semibold tracking-widest shadow-2xl hover:scale-105 transition-transform",children:"Add"})]})]})}),v=({side:r="left",onClick:o})=>{const a=r==="left",x=a?"left-1":"right-1",i=a?"‹":"›";return e.jsx("div",{className:`pointer-events-none hidden md:block absolute ${x} top-1/2 -translate-y-1/2 z-10`,children:e.jsx("button",{onClick:o,className:"pointer-events-auto relative w-[120px] h-[120px] -mx-4 -my-10 rounded-full bg-transparent","aria-label":a?"Scroll left":"Scroll right",children:e.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-10 w-10 flex items-center justify-center bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-full text-xl shadow-2xl hover:scale-105 transition-transform",children:i})})})},_=()=>e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"relative border-b border-gray-200",children:e.jsxs("div",{className:"w-full h-96 md:h-screen relative overflow-hidden",children:[e.jsx("img",{src:"https://static.nike.com/a/images/f_auto/dpr_2.0,cs_srgb/h_1268,c_limit/f5654862-ef4d-4f10-85f7-7c11f1fe1f8f/nike-just-do-it.png",alt:"TAPAK-O! – Menapak Bersama",className:"w-full h-full object-cover object-center transform transition-transform duration-1000 hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 via-transparent to-transparent"}),e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 md:px-12 w-full",children:e.jsxs("div",{className:"max-w-xl text-white space-y-6",children:[e.jsx("h1",{className:"text-5xl md:text-7xl font-extrabold drop-shadow-xl",children:"TAPAK-O!"}),e.jsx("p",{className:"text-lg md:text-2xl font-light drop-shadow-lg",children:"Menapak Bersama. Gaya untuk setiap langkah, dari kasual hingga olahraga."}),e.jsx(b,{to:"/store",className:"inline-block bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-full px-8 py-3 uppercase font-semibold tracking-widest shadow-2xl hover:scale-105 transition-transform",children:"Mulai Menapak"})]})})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-12",children:[e.jsx(d,{category:"Casual Shoes",limit:6}),e.jsx(d,{category:"Boots",limit:6}),e.jsx(d,{category:"Minimalist Shoes",limit:6}),e.jsx(d,{category:"High Heels",limit:6})]})]});export{_ as default};
