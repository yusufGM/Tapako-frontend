import{r as a,c as p,u as b,j as e,L as h,d as g,t as l}from"./index-BmScN6xQ.js";const w=()=>{const[r,i]=a.useState(""),[n,u]=a.useState(""),[o,d]=a.useState(!1),{setUser:c}=p(),m=b(),x=async t=>{t.preventDefault();try{const s=await g("/login",{identifier:r,password:n});c({token:s.token,username:s.user?.username,userId:s.user?.id||s.user?._id,role:s.user?.role||"user",email:s.user?.email}),l.success("Login berhasil"),m("/")}catch(s){l.error(s?.payload?.error||"Login gagal")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:e.jsxs("form",{onSubmit:x,className:"bg-white p-8 rounded shadow-md w-full max-w-sm",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"identifier",className:"block text-sm font-semibold mb-1",children:"Username atau Email"}),e.jsx("input",{id:"identifier",type:"text",required:!0,value:r,onChange:t=>i(t.target.value),placeholder:"Masukkan username atau email",className:"w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoComplete:"username"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:o?"text":"password",required:!0,value:n,onChange:t=>u(t.target.value),className:"w-full border px-3 py-2 rounded pr-20 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoComplete:"current-password",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>d(t=>!t),className:"absolute inset-y-0 right-0 px-3 flex items-center text-sm text-gray-600 hover:text-gray-800",children:o?"Sembunyikan":"Lihat"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-semibold py-2 rounded hover:bg-blue-700 transition",children:"Login"}),e.jsxs("p",{className:"text-center mt-4 text-sm text-gray-700",children:["Belum punya akun?"," ",e.jsx(h,{to:"/signup",className:"text-blue-600 hover:underline font-medium",children:"Daftar sekarang"})]})]})})};export{w as default};
