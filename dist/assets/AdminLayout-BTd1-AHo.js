import{c as l,r as d,u as h,a as p,j as e,O as g,N as j}from"./index-BsfDcd6Y.js";const f="https://tapako-backend.vercel.app";function b(){const{token:s}=l(),[r,n]=d.useState(0);return d.useEffect(()=>{let a=!0;if(s)return fetch(`${f}/orders`,{headers:{Authorization:`Bearer ${s}`}}).then(async t=>t.ok?t.json():[]).then(t=>{if(!a)return;const i=Array.isArray(t)?t.reduce((o,x)=>o+(x.items||[]).reduce((m,u)=>m+(u.qty||0),0),0):0;n(i)}).catch(()=>{}),()=>{a=!1}},[s]),r}function N(){const s=h(),{username:r,clearUser:n}=l(),{clearCart:a}=p(),t=b(),i=()=>{n(),a(),s("/login",{replace:!0})};return e.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white border-b z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-block h-3 w-3 bg-black rounded-sm"}),e.jsx("span",{className:"font-semibold",children:"Tapako Admin"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Products sold"}),e.jsx("span",{className:"inline-flex items-center justify-center h-6 min-w-6 px-2 rounded-md bg-[#0b1424] text-white text-xs font-semibold",children:t||0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:["Hi, ",r]}),e.jsx("button",{type:"button",onClick:i,className:"px-3 py-1.5 rounded-md bg-red-600 text-white text-sm hover:bg-red-700",children:"Logout"})]})]})]})})}function c({to:s,children:r,end:n}){return e.jsx(j,{to:s,end:n,className:({isActive:a})=>`block w-full text-left px-4 py-2 rounded-lg transition ${a?"bg-white/10 text-white":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:r})}function y(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(N,{}),e.jsx("div",{className:"pt-20 px-6 max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[260px_1fr] gap-6",children:[e.jsxs("aside",{className:"bg-[#0b1424] text-white rounded-2xl p-4",children:[e.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-400 px-2 mb-2",children:"Menu"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{to:"/admin/dashboard",end:!0,children:"Dashboard"}),e.jsx(c,{to:"/admin/orders",end:!0,children:"Orders"}),e.jsx(c,{to:"/admin/products",end:!0,children:"Products"})]})]}),e.jsx("main",{className:"pb-10",children:e.jsx(g,{})})]})})]})}export{y as default};
