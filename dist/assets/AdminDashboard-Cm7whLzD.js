import{r as c,c as o,j as s}from"./index-BmScN6xQ.js";function x(){const[e,l]=c.useState(0),[d,r]=c.useState(!0);async function n(){try{const a=await fetch("/api/stats/sold-count");if(!a.ok)throw new Error("Failed");const i=await a.json();l(i?.sold??0)}catch{}finally{r(!1)}}return c.useEffect(()=>{n();const a=setInterval(n,1e4);return()=>clearInterval(a)},[]),{sold:e,loading:d}}function m(){const{sold:e,loading:l}=x(),d=o(r=>r.logout);return s.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex h-14 max-w-7xl items-center justify-between px-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-5 w-5 rounded-sm bg-black"}),s.jsx("span",{className:"font-semibold tracking-tight",children:"Tapako Admin"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-slate-500",children:"Products sold"}),s.jsx("span",{className:"rounded-lg bg-slate-900 px-3 py-1 text-sm font-semibold text-white",children:l?"â€¦":e.toLocaleString()})]}),s.jsx("button",{onClick:d,className:"rounded-md bg-red-600 px-3 py-1 text-sm font-semibold text-white hover:bg-red-700",children:"Logout"})]})]})})}function h({children:e}){return s.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900",children:[s.jsx(m,{}),s.jsxs("div",{className:"mx-auto grid max-w-7xl grid-cols-12 gap-6 px-4 py-6",children:[s.jsx("aside",{className:"col-span-12 md:col-span-3 lg:col-span-3",children:s.jsxs("div",{className:"rounded-2xl bg-slate-900 p-3 text-slate-100",children:[s.jsx("div",{className:"mb-2 px-2 text-xs font-semibold uppercase tracking-wider text-slate-400",children:"Menu"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:s.jsx("a",{className:"block rounded-xl bg-white/10 px-3 py-2",href:"/admin/dashboard",children:"Dashboard"})}),s.jsx("li",{children:s.jsx("a",{className:"block rounded-xl px-3 py-2 hover:bg-white/10",href:"/admin/orders",children:"Orders"})}),s.jsx("li",{children:s.jsx("a",{className:"block rounded-xl px-3 py-2 hover:bg-white/10",href:"/admin/products",children:"Products"})})]})]})}),s.jsx("main",{className:"col-span-12 md:col-span-9 lg:col-span-9",children:e})]})]})}function t({label:e,value:l}){return s.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[s.jsx("div",{className:"text-sm text-slate-500",children:e}),s.jsx("div",{className:"mt-2 text-3xl font-semibold",children:l})]})}function j(){return s.jsxs(h,{children:[s.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Dashboard"}),s.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[s.jsx(t,{label:"Total Sales",value:"$15,230"}),s.jsx(t,{label:"Orders",value:"254"}),s.jsx(t,{label:"Products",value:"32"}),s.jsx(t,{label:"Customers",value:"1,208"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[s.jsxs("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Sales Overview"}),s.jsx("div",{className:"h-64 grid place-items-center text-slate-400",children:s.jsx("span",{children:"Chart placeholder"})})]}),s.jsxs("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Customers"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Sales"}),s.jsx("span",{children:"2.00"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Products"}),s.jsx("span",{children:"32"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Customers"}),s.jsx("span",{children:"1,208"})]})]})]})]})]})}export{j as default};
